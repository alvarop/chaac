# nginx config for flask app

proxy_cache_path  /tmp  levels=1:2    keys_zone=STATIC:10m;

server {
    server_name chaac.network www.chaac.network;
    listen 80;

    root /var/www;

    location /Merida {
        try_files $uri 301 /Merida/;
    }

    location /Merida(2) {
        try_files $uri 301 /Merida(2)/;
    }

    location /Sunbright {
        try_files $uri 301 /Sunbright/;
    }

    location /test {
        try_files $uri 301 /test/;
    }

    location /Merida/ {
        proxy_pass http://10.1.1.11/;
        proxy_cache STATIC;
        proxy_cache_valid 200 1m;
    }

    location /Merida(2)/ {
        proxy_pass http://10.1.1.14/;
        proxy_cache STATIC;
        proxy_cache_valid 200 1m;
    }

    location /Sunbright/ {
        proxy_pass http://10.1.1.21/;
        proxy_cache STATIC;
        proxy_cache_valid 200 1m;
    }

    location /test/ {
        proxy_pass http://192.168.50.73/;
        proxy_cache STATIC;
        proxy_cache_valid 200 1m;
    }

}
